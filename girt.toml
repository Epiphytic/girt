[llm]
# provider options:
#   "anthropic"         — Anthropic Claude (recommended)
#   "openai-compatible" — Any OpenAI-compatible endpoint (e.g. vLLM, Ollama)
#   "stub"              — Deterministic no-op for testing
provider = "anthropic"
model = "claude-sonnet-4-5"
max_tokens = 64000

# Credential resolution order (anthropic provider):
#   1. ANTHROPIC_API_KEY environment variable
#   2. OpenClaw auth-profiles (~/.openclaw/agents/main/agent/auth-profiles.json)
#      — if you've run `openclaw models auth setup-token --provider anthropic`, no config needed
#   3. api_key below (last resort)
# api_key = "sk-ant-..."

# Uncomment to use local vLLM / GLM instead:
# provider = "openai-compatible"
# base_url = "http://localhost:8000/v1"
# model = "zai-org/GLM-4.7-Flash"

[security]
# "llm"         — full LLM + HITL approval for every new tool (default)
# "policy_only" — policy rules enforced, LLM gate bypassed (bootstrap only)
creation_gate = "llm"

[approval]
# discord_approval WASM routes Ask decisions to this channel
channel_id = "1474625611908513823"
guild_id   = "1473159530316566551"
# Usernames allowed to approve/deny (empty = anyone in the channel)
authorized_users = ["liamhelmer"]
# Per-WASM-invocation polling budget (≤60s)
timeout_secs = 55
# Overall approval deadline before timing out
overall_timeout_secs = 300
# bot_token injected from DISCORD_BOT_TOKEN env (read from OpenClaw config at startup)

[pipeline]
# Path to a coding standards / conventions file.
# Its contents are injected into the Engineer agent's system prompt so
# generated WASM components follow your project's coding style.
# Supports ~ expansion. Leave commented to disable.
coding_standards_path = "~/.openclaw/workspace/CLAUDE.md"

# Maximum Engineer → QA/RedTeam iterations before the circuit breaker triggers.
# Default: 3. Increase for complex security-sensitive components.
max_iterations = 3
# What to do when the fix loop exhausts max_iterations with blocking tickets remaining.
# ask     = escalate to human for a decision (future: via approval WASM; now: falls back to proceed)
# proceed = ship the build with remaining tickets logged in the artifact (fail open)
# fail    = abort with an error (previous behaviour)
on_circuit_breaker = "proceed"

[registry]
# Source repository for syncing built tool code (optional)
source_repo = "https://github.com/Epiphytic/girt-tools"
# local_path defaults to ~/.girt/tool-registry
url = "ghcr.io/epiphytic/girt-tools"

[build]
default_language = "rust"
default_tier = "standard"
# Full path needed when girt runs as a daemon without ~/.cargo/bin on PATH
cargo_component_bin = "/home/openclaw/.cargo/bin/cargo-component"
